(function(e){function t(t){for(var c,a,l=t[0],i=t[1],d=t[2],s=0,u=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);m&&m(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(c=!1)}c&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},a={app:0},o={app:0},r=[];function l(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a2d93":"3dc5bc3e","chunk-55526d18":"f196fcac"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-55526d18":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-2d0a2d93":"31d6cfe0","chunk-55526d18":"36f9a4c1"}[e]+".css",o=i.p+c,r=document.getElementsByTagName("link"),l=0;l<r.length;l++){var d=r[l],s=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(s===c||s===o))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){d=u[l],s=d.getAttribute("data-href");if(s===c||s===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var c=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=c,delete a[e],m.parentNode.removeChild(m),n(r)},m.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(m)})).then((function(){a[e]=0})));var c=o[e];if(0!==c)if(c)t.push(c[2]);else{var r=new Promise((function(t,n){c=o[e]=[t,n]}));t.push(c[2]=r);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=l(e);var u=new Error;d=function(t){s.onerror=s.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+c+": "+a+")",u.name="ChunkLoadError",u.type=c,u.request=a,n[1](u)}o[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:s})}),12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/Vue_week6/",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var m=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"039a":function(e,t,n){},"25f1":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function a(e,t){var n=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createBlock"])(n)}n("b14e");var o=n("d959"),r=n.n(o);const l={},i=r()(l,[["render",a]]);var d=i,s=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),u={class:"home"};function m(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("HelloWorld");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createVNode"])(l,{msg:"Welcome to Your Vue.js App"})])}var b=n("fdab"),p={name:"Home",components:{HelloWorld:b["default"]}};const O=r()(p,[["render",m]]);var j=O,f={class:"container"},h=Object(c["createElementVNode"])("h1",null,"預計是用來介紹網站的頁面",-1),g=[h];function v(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,g)}const E={},V=r()(E,[["render",v]]);var N=V,k={class:"container"};function y(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("ProductsList");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",k,[Object(c["createVNode"])(l)])}var w={class:"table align-middle"},x=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",null,"圖片"),Object(c["createElementVNode"])("th",null,"商品名稱"),Object(c["createElementVNode"])("th",null,"價格"),Object(c["createElementVNode"])("th")])],-1),C={style:{width:"200px"}},B={key:0,class:"h5"},P={key:1},M={class:"h6"},S={class:"h5"},D={class:"btn-group btn-group-sm"},L=Object(c["createTextVNode"])("查看更多"),U=["onClick","disabled"],_={class:"spinner-grow spinner-grow-sm"},I=Object(c["createTextVNode"])(" 加到購物車 ");function T(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("Loading"),i=Object(c["resolveComponent"])("router-link"),d=Object(c["resolveComponent"])("ProductModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(c["createElementVNode"])("table",w,[x,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",C,[Object(c["createElementVNode"])("div",{style:Object(c["normalizeStyle"])([{backgroundImage:"url(".concat(e.imageUrl,")")},{width:"100px",height:"150px","background-size":"cover","background-position":"center"}])},null,4)]),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("td",null,[e.price===e.origin_price?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",B,Object(c["toDisplayString"])(e.price)+" 元",1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",P,[Object(c["createElementVNode"])("del",M,"原價 "+Object(c["toDisplayString"])(e.origin_price)+" 元",1),Object(c["createElementVNode"])("div",S,"現在只要 "+Object(c["toDisplayString"])(e.price)+" 元",1)]))]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",D,[Object(c["createVNode"])(i,{type:"button",class:"btn btn-outline-secondary",to:"/product/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[L]})),_:2},1032,["to"]),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:function(t){return r.addToCart(e.id)},disabled:o.isLoadingItem===e.id},[Object(c["withDirectives"])(Object(c["createElementVNode"])("span",_,null,512),[[c["vShow"],o.isLoadingItem===e.id]]),I],8,U)])])])})),128))])]),Object(c["createVNode"])(d,{id:o.productId,onCloseModal:r.hideModal},null,8,["id","onCloseModal"])],64)}n("99af");var F=n("bc3a"),R=n.n(F),q=(n("a4d3"),n("e01a"),{id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),A={class:"modal-dialog modal-xl"},z={class:"modal-content border-0"},$={class:"modal-header bg-primary text-white"},J={id:"productModalLabel",class:"modal-title"},H={class:"modal-body"},W={class:"row"},K={class:"col-sm-4"},Y={class:"mb-2"},G=["src"],Q={class:"col-sm-8"},X={class:"row"},Z={class:"mb-3"},ee={class:"badge bg-primary rounded-pill"},te={class:"mb-3"},ne={class:"mb-3 text-end"},ce={class:"modal-footer"},ae=["value"],oe=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function re(e,t,n,a,o,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",q,[Object(c["createElementVNode"])("div",A,[Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("div",$,[Object(c["createElementVNode"])("h5",J,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.product.title),1)])]),Object(c["createElementVNode"])("div",H,[Object(c["createElementVNode"])("div",W,[Object(c["createElementVNode"])("div",K,[Object(c["createElementVNode"])("div",Y,[Object(c["createElementVNode"])("img",{class:"img-fluid",src:o.product.imageUrl,alt:""},null,8,G)])]),Object(c["createElementVNode"])("div",Q,[Object(c["createElementVNode"])("div",X,[Object(c["createElementVNode"])("div",Z,[Object(c["createElementVNode"])("p",ee,"分類："+Object(c["toDisplayString"])(o.product.category),1)]),Object(c["createElementVNode"])("div",te,[Object(c["createElementVNode"])("p",null,"商品內容："+Object(c["toDisplayString"])(o.product.description),1)]),Object(c["createElementVNode"])("div",ne,[Object(c["createElementVNode"])("h6",null,[Object(c["createElementVNode"])("del",null,"原價："+Object(c["toDisplayString"])(o.product.origin_price),1)]),Object(c["createElementVNode"])("h4",null,"特價："+Object(c["toDisplayString"])(o.product.price),1)])])])])]),Object(c["createElementVNode"])("div",ce,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{id:"",class:"form-select w-auto","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.qty=e})},[(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(20,(function(e){return Object(c["createElementVNode"])("option",{value:e,key:"".concat(e)},Object(c["toDisplayString"])(e),9,ae)})),64))],512),[[c["vModelSelect"],o.qty]]),oe,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return r.addToCart(n.id)})},"加入購物車")])])])],512)}var le="https://vue3-course-api.hexschool.io/v2",ie="ashen",de={props:["id"],data:function(){return{product:{},qty:1}},methods:{addToCart:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c={product_id:e,qty:this.qty|n};this.isLoadingItem=e,R.a.post("".concat(le,"/api/").concat(ie,"/cart"),{data:c}).then((function(e){console.log(e),t.isLoadingItem="",t.$emit("closeModal")}))}},watch:{id:function(e){var t=this;R.a.get("".concat(le,"/api/").concat(ie,"/product/").concat(e)).then((function(e){console.log(e.data.product),t.product=e.data.product}))}}};const se=r()(de,[["render",re]]);var ue=se,me=n("7c2b"),be=n.n(me),pe=n("9062"),Oe=n.n(pe),je=(n("e40d"),"https://vue3-course-api.hexschool.io/v2"),fe="ashen",he={components:{ProductModal:ue,Loading:Oe.a},data:function(){return{products:[],productId:null,isLoadingItem:"",isLoading:!1}},methods:{openProductModal:function(e){this.productId=e,this.productModal.show()},addToCart:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c={product_id:e,qty:n};this.isLoadingItem=e,R.a.post("".concat(je,"/api/").concat(fe,"/cart"),{data:c}).then((function(e){console.log(e),t.isLoadingItem=""}))},hideModal:function(){this.productModal.hide()}},mounted:function(){var e=this;this.isLoading=!0,R.a.get("".concat(je,"/api/").concat(fe,"/products/all")).then((function(t){e.products=t.data.products,e.isLoading=!1})),this.productModal=new be.a(document.getElementById("productModal"),{keyboard:!1})}};const ge=r()(he,[["render",T]]);var ve=ge,Ee={components:{ProductsList:ve}};const Ve=r()(Ee,[["render",y]]);var Ne=Ve,ke={class:"container"},ye={class:"row mt-3"},we={class:"col-8"},xe={class:"col-4"};function Ce(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("ShoppingCart"),i=Object(c["resolveComponent"])("ValidateForm");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ke,[Object(c["createElementVNode"])("div",ye,[Object(c["createElementVNode"])("div",we,[Object(c["createVNode"])(l)]),Object(c["createElementVNode"])("div",xe,[Object(c["createVNode"])(i)])])])}n("b0c0");var Be={class:"mb-3"},Pe=Object(c["createElementVNode"])("label",{for:"email",class:"form-label"},"Email",-1),Me={class:"mb-3"},Se=Object(c["createElementVNode"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),De={class:"mb-3"},Le=Object(c["createElementVNode"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),Ue={role:"alert",class:"invalid-feedback"},_e={class:"mb-3"},Ie=Object(c["createElementVNode"])("label",{for:"address",class:"form-label"},"收件人地址",-1),Te={class:"mb-3"},Fe=Object(c["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),Re={class:"text-end"},qe=["disabled"];function Ae(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("Field"),i=Object(c["resolveComponent"])("ErrorMessage"),d=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createBlock"])(d,{ref:"form",autocomplete:"off",onSubmit:r.onSubmit},{default:Object(c["withCtx"])((function(e){var n=e.errors;return[Object(c["createElementVNode"])("div",Be,[Pe,Object(c["createVNode"])(l,{id:"email",name:"email",type:"email",class:Object(c["normalizeClass"])(["form-control",{"is-invalid":n["email"]}]),rules:"email",placeholder:"請輸入 Email",modelValue:o.clientFrom.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.clientFrom.user.email=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(i,{name:"email",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",Me,[Se,Object(c["createVNode"])(l,{id:"name",name:"姓名",type:"text",class:Object(c["normalizeClass"])(["form-control",{"is-invalid":n["姓名"]}]),rules:"required",placeholder:"請輸入姓名",modelValue:o.clientFrom.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.clientFrom.user.name=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(i,{name:"姓名",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",De,[Le,Object(c["createVNode"])(l,{id:"tel",name:"mobile",type:"tel",class:Object(c["normalizeClass"])(["form-control",{"is-invalid":n["mobile"]}]),rules:r.isPhone,placeholder:"請輸入手機號碼",modelValue:o.clientFrom.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.clientFrom.user.tel=e})},null,8,["class","rules","modelValue"]),Object(c["createVNode"])(i,{name:"mobile"},{default:Object(c["withCtx"])((function(e){var t=e.message;return[Object(c["createElementVNode"])("span",Ue,Object(c["toDisplayString"])(t),1)]})),_:1})]),Object(c["createElementVNode"])("div",_e,[Ie,Object(c["createVNode"])(l,{id:"address",name:"地址",type:"text",class:Object(c["normalizeClass"])(["form-control",{"is-invalid":n["地址"]}]),rules:"required",placeholder:"請輸入地址",modelValue:o.clientFrom.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.clientFrom.user.address=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(i,{name:"地址",class:"invalid-feedback"})]),Object(c["createElementVNode"])("div",Te,[Fe,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.clientFrom.message=e})},null,512),[[c["vModelText"],o.clientFrom.message]])]),Object(c["createElementVNode"])("div",Re,[Object(c["createElementVNode"])("button",{ref:"sendOrder",type:"submit",class:"btn btn-danger",disabled:!o.isEnableSend}," 送出訂單 ",8,qe)])]})),_:1},8,["onSubmit"])}var ze=n("1da1"),$e=(n("96cf"),n("ac1f"),n("00b4"),n("1344")),Je=new $e["a"],He=Je,We=n("7bb1"),Ke=n("3aa8"),Ye=n("cbdf"),Ge=n("9457"),Qe="https://vue3-course-api.hexschool.io/v2",Xe="ashen";Object(We["e"])("required",Ke["c"]),Object(We["e"])("email",Ke["a"]),Object(We["e"])("min",Ke["b"]),Object(We["d"])({generateMessage:Object(Ye["a"])({zh_TW:Ge})}),Object(Ye["b"])("zh_TW");var Ze={data:function(){return{clientFrom:{user:{name:"",email:"",tel:"",address:""},message:""},isEnableSend:!1}},components:{Form:We["c"],Field:We["b"],ErrorMessage:We["a"]},methods:{onSubmit:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R.a.post("".concat(Qe,"/api/").concat(Xe,"/order"),{data:e.clientFrom}).then((function(t){console.log(t),alert(t.data.message),e.$refs.form.resetForm()})).catch((function(e){return console.dir(e)}));case 2:e.emit();case 3:case"end":return t.stop()}}),t)})))()},emit:function(){He.emit("clearCart")},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}},mounted:function(){var e=this;He.on("cartSend",(function(t){console.log("isEnableSend = ".concat(t)),e.isEnableSend=t}))}};const et=r()(Ze,[["render",Ae]]);var tt=et,nt={class:"text-end"},ct=["disabled"],at={class:"table align-middle"},ot=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th"),Object(c["createElementVNode"])("th",null,"品名"),Object(c["createElementVNode"])("th",{style:{width:"150px"}},"數量/單位"),Object(c["createElementVNode"])("th",{class:"col-md-2"},"單價")])],-1),rt=["onClick"],lt=Object(c["createElementVNode"])("div",{class:"text-success"},"已套用優惠券",-1),it={class:"input-group input-group-sm"},dt={class:"input-group mb-3"},st=["onUpdate:modelValue","onChange","disabled"],ut=["value"],mt={class:"input-group-text",id:"basic-addon2"},bt={class:"text-end"},pt=Object(c["createElementVNode"])("td",{colspan:"3",class:"text-end"},"總計",-1),Ot={class:"text-end"},jt=Object(c["createElementVNode"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),ft={class:"text-end text-success"};function ht(e,t,n,a,o,r){var l,i=Object(c["resolveComponent"])("Loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(i,{active:o.isLoading},null,8,["active"]),Object(c["createElementVNode"])("div",nt,[Object(c["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return r.clearAllCarts&&r.clearAllCarts.apply(r,arguments)}),class:"btn btn-outline-danger",type:"button",disabled:0===(null===(l=o.cartData.carts)||void 0===l?void 0:l.length)}," 清空購物車 ",8,ct)]),Object(c["createElementVNode"])("table",at,[ot,Object(c["createElementVNode"])("tbody",null,[o.cartData.carts?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(o.cartData.carts,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("button",{onClick:function(t){return r.removeCartItem(e.id)},type:"button",class:"btn btn-outline-danger btn-sm"}," x ",8,rt)]),Object(c["createElementVNode"])("td",null,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.product.title)+" ",1),lt]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",it,[Object(c["createElementVNode"])("div",dt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("select",{id:"",class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return r.updateCartItem(e)},disabled:o.isLoadingItem===e.id},[(Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(20,(function(t){return Object(c["createElementVNode"])("option",{value:t,key:"".concat(t).concat(e.id)},Object(c["toDisplayString"])(t),9,ut)})),64))],40,st),[[c["vModelSelect"],e.qty]]),Object(c["createElementVNode"])("span",mt,Object(c["toDisplayString"])(e.product.unit),1)])])]),Object(c["createElementVNode"])("td",bt," NT$"+Object(c["toDisplayString"])(e.total),1)])})),128)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("tfoot",null,[Object(c["createElementVNode"])("tr",null,[pt,Object(c["createElementVNode"])("td",Ot,Object(c["toDisplayString"])(o.cartData.total),1)]),Object(c["createElementVNode"])("tr",null,[jt,Object(c["createElementVNode"])("td",ft,Object(c["toDisplayString"])(o.cartData.final_total),1)])])])],64)}var gt="https://vue3-course-api.hexschool.io/v2",vt="ashen",Et={components:{Loading:Oe.a},data:function(){return{cartData:[],productId:null,isLoadingItem:"",isLoading:!1,isEnableSend:!1}},methods:{removeCartItem:function(e){var t=this;this.isLoadingItem=e,R.a.delete("".concat(gt,"/api/").concat(vt,"/cart/").concat(e)).then((function(e){console.log(e),t.getCart(),t.isLoadingItem=""}))},getCart:function(){var e=this;R.a.get("".concat(gt,"/api/").concat(vt,"/cart")).then((function(t){e.cartData=t.data.data,e.isLoading=!1}))},updateCartItem:function(e){var t=this,n={product_id:e.id,qty:e.qty};R.a.put("".concat(gt,"/api/").concat(vt,"/cart/").concat(e.id),{data:n}).then((function(e){console.log(e),t.getCart(),t.isLoadingItem=""}))},clearAllCarts:function(){var e=this;R.a.delete("".concat(gt,"/api/").concat(vt,"/carts")).then((function(t){console.log(t),e.getCart()}))}},watch:{cartData:function(e){0===e.carts.length?this.isEnableSend=!1:this.isEnableSend=!0;var t=this;He.emit("cartSend",t.isEnableSend)}},created:function(){var e=this;He.on("clearCart",(function(){e.getCart()}))},mounted:function(){console.log(He),this.isLoading=!0,this.getCart()},unmounted:function(){var e=this;He.off("clearCart",(function(){e.getCart()}))}};const Vt=r()(Et,[["render",ht]]);var Nt=Vt,kt={components:{ShoppingCart:Nt,ValidateForm:tt}};const yt=r()(kt,[["render",Ce]]);var wt=yt,xt={class:"container"},Ct=Object(c["createElementVNode"])("h2",{class:"text-center mb-3"},"訂單後台管理中心",-1),Bt={class:"form-floating mb-3"},Pt=Object(c["createElementVNode"])("label",{for:"floatingInput"},"請輸入管理員信箱",-1),Mt={class:"form-floating"},St=Object(c["createElementVNode"])("label",{for:"floatingPassword"},"請輸入密碼",-1),Dt=Object(c["createElementVNode"])("div",{class:"form-check my-3"},[Object(c["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked"}),Object(c["createElementVNode"])("label",{class:"form-check-label",for:"flexCheckChecked"}," 記住我 ")],-1),Lt=Object(c["createElementVNode"])("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1);function Ut(e,t,n,a,o,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",xt,[Object(c["createElementVNode"])("form",{class:"formlogin",onSubmit:t[3]||(t[3]=Object(c["withModifiers"])((function(){return r.signIn&&r.signIn.apply(r,arguments)}),["prevent"]))},[Ct,Object(c["createElementVNode"])("div",Bt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.user.username=e}),required:"",autofocus:""},null,512),[[c["vModelText"],o.user.username]]),Pt]),Object(c["createElementVNode"])("div",Mt,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control",id:"floatingPassword","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.user.password=e}),placeholder:"Password"},null,512),[[c["vModelText"],o.user.password]]),St]),Dt,Object(c["createElementVNode"])("button",{type:"submit",class:"btn btn-lg btn-primary w-100 mt-3",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(){return r.signIn&&r.signIn.apply(r,arguments)}),["prevent"]))}," 登入 "),Lt],32)])}n("5319");var _t="https://vue3-course-api.hexschool.io/v2",It="ashen";function Tt(e){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(ze["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat(_t,"/admin/signin"),t);case 3:return n=e.sent,c=n.data,document.cookie="hexToken=".concat(c.token,"; expires=").concat(new Date(c.expired),";"),console.log("登入成功"),e.abrupt("return",!0);case 10:e.prev=10,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ft.apply(this,arguments)}function Rt(){return qt.apply(this,arguments)}function qt(){return qt=Object(ze["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),R.a.defaults.headers.common["Authorization"]=t,e.prev=2,e.next=5,R.a.post("".concat(_t,"/api/user/check"));case 5:console.log("確認用戶仍然持續登入"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),alert(e.t0.response.data.message),pa.push("/Login");case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),qt.apply(this,arguments)}function At(e){return zt.apply(this,arguments)}function zt(){return zt=Object(ze["a"])(regeneratorRuntime.mark((function e(t){var n,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("".concat(_t,"/api/").concat(It,"/admin/products?page=").concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e["catch"](0),alert(e.t0.response.data.message),pa.push("/Login");case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),zt.apply(this,arguments)}function $t(e){return Jt.apply(this,arguments)}function Jt(){return Jt=Object(ze["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.post("".concat(_t,"/api/").concat(It,"/admin/product"),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),Jt.apply(this,arguments)}function Ht(e){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(ze["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t.data.id),e.next=4,R.a.put("".concat(_t,"/api/").concat(It,"/admin/product/").concat(t.data.id),t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),Wt.apply(this,arguments)}function Kt(e){return Yt.apply(this,arguments)}function Yt(){return Yt=Object(ze["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("".concat(_t,"/api/").concat(It,"/admin/product/").concat(t)),e.next=4,R.a.delete("".concat(_t,"/api/").concat(It,"/admin/product/").concat(t));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),Yt.apply(this,arguments)}var Gt={data:function(){return{user:{username:"",password:""}}},methods:{signIn:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Tt(e.user);case 2:n=t.sent,!0===n&&pa.push("/admin");case 4:case"end":return t.stop()}}),t)})))()}}};n("591f");const Qt=r()(Gt,[["render",Ut]]);var Xt=Qt;function Zt(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("h1",null,"後臺首頁")}const en={},tn=r()(en,[["render",Zt]]);var nn=tn,cn={class:"d-flex"},an={class:"main w-100"};function on(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("Navbar"),i=Object(c["resolveComponent"])("Sidebar"),d=Object(c["resolveComponent"])("router-view");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(l),Object(c["createElementVNode"])("div",cn,[Object(c["createVNode"])(i),Object(c["createElementVNode"])("main",an,[Object(c["createVNode"])(d)])])],64)}var rn={class:"navbar navbar-expand-lg navbar-light bg-light px-3"},ln=Object(c["createStaticVNode"])('<a class="navbar-brand" href="#/admin">專賣店後台</a><div class="collapse navbar-collapse justify-content-end" id="navbarNav"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#/">回首頁</a></li><li class="nav-item"><a class="nav-link" href="#">登出</a></li></ul></div>',2),dn=[ln];function sn(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",rn,dn)}n("85b7");const un={},mn=r()(un,[["render",sn]]);var bn=mn,pn={class:"sidebar"},On={class:"list-group list-group-flush bg-transparent"},jn={class:"list-group-item"},fn=Object(c["createTextVNode"])("首頁"),hn={class:"list-group-item"},gn=Object(c["createTextVNode"])("產品");function vn(e,t){var n=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("aside",pn,[Object(c["createElementVNode"])("ul",On,[Object(c["createElementVNode"])("li",jn,[Object(c["createVNode"])(n,{class:"nav-link",to:"/admin"},{default:Object(c["withCtx"])((function(){return[fn]})),_:1})]),Object(c["createElementVNode"])("li",hn,[Object(c["createVNode"])(n,{class:"nav-link",to:"/admin/Products"},{default:Object(c["withCtx"])((function(){return[gn]})),_:1})])])])}const En={},Vn=r()(En,[["render",vn]]);var Nn=Vn,kn={components:{Navbar:bn,Sidebar:Nn},mounted:function(){return Object(ze["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Rt();case 2:case"end":return e.stop()}}),e)})))()}};n("644e");const yn=r()(kn,[["render",on]]);var wn=yn,xn={class:"container"},Cn={class:"text-end mt-4"},Bn={class:"table mt-4"},Pn=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",null,[Object(c["createElementVNode"])("th",{width:"120"},"分類"),Object(c["createElementVNode"])("th",null,"產品名稱"),Object(c["createElementVNode"])("th",{width:"120"},"原價"),Object(c["createElementVNode"])("th",{width:"120"},"售價"),Object(c["createElementVNode"])("th",{width:"100"},"是否啟用"),Object(c["createElementVNode"])("th",{width:"120"},"編輯")])],-1),Mn={class:"text-end"},Sn={class:"text-end"},Dn={key:0,class:"text-success"},Ln={key:1},Un={class:"btn-group"},_n=["onClick"],In=["onClick"];function Tn(e,t,n,a,o,r){var l=Object(c["resolveComponent"])("pagination"),i=Object(c["resolveComponent"])("productModal"),d=Object(c["resolveComponent"])("delProductModal");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createElementVNode"])("div",xn,[Object(c["createElementVNode"])("div",Cn,[Object(c["createElementVNode"])("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){return r.showModal("new")})},"建立新的產品")]),Object(c["createElementVNode"])("table",Bn,[Pn,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.products,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id},[Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.category),1),Object(c["createElementVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createElementVNode"])("td",Mn,Object(c["toDisplayString"])(e.origin_price),1),Object(c["createElementVNode"])("td",Sn,Object(c["toDisplayString"])(e.price),1),Object(c["createElementVNode"])("td",null,[e.is_enabled?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Dn,"啟用")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",Ln,"未啟用"))]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",Un,[Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return r.showModal("update",e)}}," 編輯 ",8,_n),Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return r.showModal("delete",e)}}," 刪除 ",8,In)])])])})),128))])]),Object(c["createVNode"])(l,{pages:o.pagination,onEmitpages:r.init},null,8,["pages","onEmitpages"])]),Object(c["createVNode"])(i,{productinfo:o.tempProduct,state:o.isNew,onUpdate:r.init},null,8,["productinfo","state","onUpdate"]),Object(c["createVNode"])(d,{productinfo:o.tempProduct,onUpdate:r.init},null,8,["productinfo","onUpdate"])],64)}var Fn=n("5530"),Rn=(n("e9c4"),{key:0}),qn={class:"pagination justify-content-center"},An=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),zn=[An],$n={key:0,class:"page-link"},Jn=["onClick"],Hn=Object(c["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),Wn=[Hn];function Kn(e,t,n,a,o,r){return n.pages?(Object(c["openBlock"])(),Object(c["createElementBlock"])("nav",Rn,[Object(c["createElementVNode"])("ul",qn,[Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:1===n.pages.current_page}])},[Object(c["createElementVNode"])("a",{class:"page-link",onClick:t[0]||(t[0]=Object(c["withModifiers"])((function(e){return r.emitpages(n.pages.current_page-1)}),["prevent"]))},zn)],2),(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(n.pages.total_pages,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("li",{class:Object(c["normalizeClass"])(["page-item",{active:e===n.pages.current_page}]),"aria-current":"page",key:t},[e===n.pages.current_page?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",$n,Object(c["toDisplayString"])(e),1)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:1,class:"page-link",onClick:Object(c["withModifiers"])((function(t){return r.emitpages(e)}),["prevent"])},Object(c["toDisplayString"])(e),9,Jn))],2)})),128)),Object(c["createElementVNode"])("li",{class:Object(c["normalizeClass"])(["page-item",{disabled:n.pages.current_page===n.pages.total_pages}])},[Object(c["createElementVNode"])("a",{class:"page-link",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return r.emitpages(n.pages.current_page+1)}),["prevent"]))},Wn)],2)])])):Object(c["createCommentVNode"])("",!0)}var Yn={props:["pages"],methods:{emitpages:function(e){this.$emit("emitpages",e)}}};const Gn=r()(Yn,[["render",Kn]]);var Qn=Gn,Xn={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Zn={class:"modal-dialog modal-xl"},ec={class:"modal-content border-0"},tc={class:"modal-header bg-primary text-white"},nc={id:"productModalLabel",class:"modal-title"},cc={key:0},ac={key:1},oc=Object(c["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),rc={class:"modal-body"},lc={class:"row"},ic={class:"col-sm-4"},dc={class:"mb-2"},sc={class:"mb-3"},uc=Object(c["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"主要圖片網址",-1),mc=["src"],bc=Object(c["createElementVNode"])("h3",null,"多圖新增",-1),pc={key:0},Oc=Object(c["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"圖片網址",-1),jc=["onUpdate:modelValue"],fc=["src"],hc={key:0},gc={key:1},vc={key:1},Ec={class:"col-sm-8"},Vc={class:"mb-3"},Nc=Object(c["createElementVNode"])("label",{for:"title",class:"form-label"},"標題",-1),kc={class:"row"},yc={class:"mb-3 col-md-6"},wc=Object(c["createElementVNode"])("label",{for:"category",class:"form-label"},"分類",-1),xc={class:"mb-3 col-md-6"},Cc=Object(c["createElementVNode"])("label",{for:"price",class:"form-label"},"單位",-1),Bc={class:"row"},Pc={class:"mb-3 col-md-6"},Mc=Object(c["createElementVNode"])("label",{for:"origin_price",class:"form-label"},"原價",-1),Sc={class:"mb-3 col-md-6"},Dc=Object(c["createElementVNode"])("label",{for:"price",class:"form-label"},"售價",-1),Lc=Object(c["createElementVNode"])("hr",null,null,-1),Uc={class:"mb-3"},_c=Object(c["createElementVNode"])("label",{for:"description",class:"form-label"},"產品描述",-1),Ic={class:"mb-3"},Tc=Object(c["createElementVNode"])("label",{for:"content",class:"form-label"},"說明內容",-1),Fc={class:"mb-3"},Rc={class:"form-check"},qc=Object(c["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Ac={class:"modal-footer"},zc=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function $c(e,t,n,a,o,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Xn,[Object(c["createElementVNode"])("div",Zn,[Object(c["createElementVNode"])("div",ec,[Object(c["createElementVNode"])("div",tc,[Object(c["createElementVNode"])("h5",nc,[o.isNew?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",cc,"新增產品")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",ac,"編輯產品"))]),oc]),Object(c["createElementVNode"])("div",rc,[Object(c["createElementVNode"])("div",lc,[Object(c["createElementVNode"])("div",ic,[Object(c["createElementVNode"])("div",dc,[Object(c["createElementVNode"])("div",sc,[uc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入主要圖片連結","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.tempProduct.imageUrl=e})},null,512),[[c["vModelText"],o.tempProduct.imageUrl]])]),Object(c["createElementVNode"])("img",{class:"img-fluid",src:o.tempProduct.imageUrl,alt:""},null,8,mc)]),bc,Array.isArray(o.tempProduct.imagesUrl)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",pc,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.tempProduct.imagesUrl,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{key:t},[Oc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入次要圖片連結","onUpdate:modelValue":function(e){return o.tempProduct.imagesUrl[t]=e}},null,8,jc),[[c["vModelText"],o.tempProduct.imagesUrl[t]]]),Object(c["createElementVNode"])("img",{class:"img-fluid",src:e,alt:""},null,8,fc)])})),128)),!o.tempProduct.imagesUrl.length||o.tempProduct.imagesUrl[o.tempProduct.imagesUrl.length-1]?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",hc,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[1]||(t[1]=function(e){return o.tempProduct.imagesUrl.push("")})}," 新增圖片 ")])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",gc,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:t[2]||(t[2]=function(e){return o.tempProduct.imagesUrl.pop()})}," 刪除圖片 ")]))])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",vc,[Object(c["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[3]||(t[3]=function(){return e.createImages&&e.createImages.apply(e,arguments)})}," 新增圖片 ")]))]),Object(c["createElementVNode"])("div",Ec,[Object(c["createElementVNode"])("div",Vc,[Nc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.tempProduct.title=e})},null,512),[[c["vModelText"],o.tempProduct.title]])]),Object(c["createElementVNode"])("div",kc,[Object(c["createElementVNode"])("div",yc,[wc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.tempProduct.category=e})},null,512),[[c["vModelText"],o.tempProduct.category]])]),Object(c["createElementVNode"])("div",xc,[Cc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.tempProduct.unit=e})},null,512),[[c["vModelText"],o.tempProduct.unit]])])]),Object(c["createElementVNode"])("div",Bc,[Object(c["createElementVNode"])("div",Pc,[Mc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.tempProduct.origin_price=e})},null,512),[[c["vModelText"],o.tempProduct.origin_price]])]),Object(c["createElementVNode"])("div",Sc,[Dc,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.tempProduct.price=e})},null,512),[[c["vModelText"],o.tempProduct.price]])])]),Lc,Object(c["createElementVNode"])("div",Uc,[_c,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.tempProduct.description=e})},"\n                ",512),[[c["vModelText"],o.tempProduct.description]])]),Object(c["createElementVNode"])("div",Ic,[Tc,Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.tempProduct.content=e})},"\n                ",512),[[c["vModelText"],o.tempProduct.content]])]),Object(c["createElementVNode"])("div",Fc,[Object(c["createElementVNode"])("div",Rc,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[11]||(t[11]=function(e){return o.tempProduct.is_enabled=e})},null,512),[[c["vModelCheckbox"],o.tempProduct.is_enabled]]),qc])])])])]),Object(c["createElementVNode"])("div",Ac,[zc,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[12]||(t[12]=function(){return r.updateItem&&r.updateItem.apply(r,arguments)})},"確認")])])])],512)}var Jc={props:["productinfo","state"],data:function(){return{tempProduct:this.productinfo,isNew:this.state,productModal:null}},methods:{updateItem:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0!==e.isNew){t.next=5;break}return t.next=3,$t({data:e.tempProduct});case 3:t.next=7;break;case 5:return t.next=7,Ht({data:e.tempProduct});case 7:e.$emit("update");case 8:case"end":return t.stop()}}),t)})))()}},watch:{state:function(e){this.isNew=e},productinfo:function(e){this.tempProduct=e}}};const Hc=r()(Jc,[["render",$c]]);var Wc=Hc,Kc={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},Yc={class:"modal-dialog"},Gc={class:"modal-content border-0"},Qc=Object(c["createElementVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createElementVNode"])("h5",{id:"delProductModalLabel",class:"modal-title"},[Object(c["createElementVNode"])("span",null,"刪除產品")]),Object(c["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Xc={class:"modal-body"},Zc=Object(c["createTextVNode"])(" 是否刪除 "),ea={class:"text-danger"},ta=Object(c["createTextVNode"])(" 商品(刪除後將無法恢復)。 "),na={class:"modal-footer"},ca=Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function aa(e,t,n,a,o,r){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Kc,[Object(c["createElementVNode"])("div",Yc,[Object(c["createElementVNode"])("div",Gc,[Qc,Object(c["createElementVNode"])("div",Xc,[Zc,Object(c["createElementVNode"])("strong",ea,Object(c["toDisplayString"])(o.tempProduct.title),1),ta]),Object(c["createElementVNode"])("div",na,[ca,Object(c["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return r.deleteItem&&r.deleteItem.apply(r,arguments)})},"確認刪除")])])])],512)}var oa={props:["productinfo"],data:function(){return{tempProduct:this.productinfo,delProductModal:null}},methods:{deleteItem:function(){var e=this;return Object(ze["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kt(e.tempProduct.id);case 2:e.$emit("update");case 3:case"end":return t.stop()}}),t)})))()}},watch:{productinfo:function(e){this.tempProduct=e}}};const ra=r()(oa,[["render",aa]]);var la=ra,ia={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[]},da={components:{pagination:Qn,productModal:Wc,delProductModal:la},data:function(){return{products:[],pagination:null,isNew:!1,tempProduct:ia,productModal:null,delProductModal:null}},methods:{init:function(){var e=arguments,t=this;return Object(ze["a"])(regeneratorRuntime.mark((function n(){var c,a,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=e.length>0&&void 0!==e[0]?e[0]:1,console.log("從遠端抓新資料"),n.next=4,At(c);case 4:a=n.sent,o=a.products,r=a.pagination,t.products=o,t.pagination=r,t.productModal.hide(),t.delProductModal.hide();case 11:case"end":return n.stop()}}),n)})))()},showModal:function(e,t){"new"===e?(this.tempProduct=JSON.parse(JSON.stringify(ia)),this.isNew=!0,this.productModal.show()):"update"===e?(console.log("update"),this.tempProduct=JSON.parse(JSON.stringify(t)),this.isNew=!1,this.productModal.show()):"delete"===e&&(console.log("delete"),this.tempProduct=Object(Fn["a"])({},t),this.delProductModal.show())},createImages:function(){this.tempProduct.imagesUrl=[],this.tempProduct.imagesUrl.push("")}},created:function(){this.init()},mounted:function(){this.productModal=new be.a(document.getElementById("productModal"),{keyboard:!1}),this.delProductModal=new be.a(document.getElementById("delProductModal"),{keyboard:!1})}};const sa=r()(da,[["render",Tn]]);var ua=sa,ma=[{path:"/",name:"Layout",component:function(){return n.e("chunk-55526d18").then(n.bind(null,"e6aa"))},children:[{path:"",name:"home",component:j},{path:"/about",name:"about",component:N},{path:"/Products",name:"Products",component:Ne},{path:"/Product/:id",name:"Product",component:function(){return n.e("chunk-2d0a2d93").then(n.bind(null,"0052"))}},{path:"/Cart",name:"Cart",component:wt}]},{path:"/Login",name:"Login",component:Xt},{path:"/admin",name:"Dashboard",component:wn,children:[{path:"",name:"BackEndHome",component:nn},{path:"products",name:"products",component:ua}]}],ba=Object(s["a"])({history:Object(s["b"])(),routes:ma}),pa=ba,Oa=n("5502"),ja=Object(Oa["a"])({state:{},mutations:{},actions:{},modules:{}}),fa=Object(c["createApp"])(d);fa.use(ja).use(pa).mount("#app")},"591f":function(e,t,n){"use strict";n("25f1")},"5e41":function(e,t,n){},"644e":function(e,t,n){"use strict";n("039a")},"83ce":function(e,t,n){"use strict";var c=n("f34b"),a=n.n(c);n.d(t,"default",(function(){return a.a}))},"85b7":function(e,t,n){"use strict";n("5e41")},ac19:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n("7a23"),a={class:"container"},o=Object(c["createElementVNode"])("h1",null,"預計為首頁的頁面",-1),r=[o];function l(e,t,n,o,l,i){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,r)}},b14e:function(e,t,n){"use strict";n("ef4d")},ef4d:function(e,t,n){},f34b:function(e,t){},fdab:function(e,t,n){"use strict";var c=n("ac19"),a=n("83ce"),o=n("d959"),r=n.n(o);const l=r()(a["default"],[["render",c["a"]]]);t["default"]=l}});
//# sourceMappingURL=app.43279f5f.js.map